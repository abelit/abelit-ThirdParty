(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3625e221"],{"442c":function(t,e,i){"use strict";var s=i("81d2"),n=i.n(s);n.a},"68f3":function(t,e,i){},"81d2":function(t,e,i){},"84d4":function(t,e,i){"use strict";var s=i("68f3"),n=i.n(s);n.a},d167:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.eqTtoQuestions,(function(e){return i("div",{key:e.id},[1==t.nstpPage&&t.eqTtoQuestions.indexOf(e)===t.currentItem?i("nstp-tto-a",{attrs:{block:e},on:{cUpdateItem:function(e){return t.pUpdateItem(e)},cUpdateReset:t.pUpdateReset}}):t._e(),2==t.nstpPage&&t.eqTtoQuestions.indexOf(e)===t.currentItem?i("nstp-tto-b",{attrs:{block:e},on:{cUpdateItem:function(e){return t.pUpdateItem(e)},cDeleteItem:function(e){return t.pDeleteItem(e)}}}):t._e()],1)})),i("v-row",[i("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[i("v-card",{staticClass:"pt-5 yellow lighten-4"},[i("v-card-text",{staticClass:"display-1"},[t._v(t._s(t.eqLangLabels[t.$vuetify.lang.current].popup_window_exmple))]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"light-green darken-3",large:""},on:{click:function(e){t.popupDialog=!1}}},[t._v(t._s(t.eqLangLabels[t.$vuetify.lang.current].btn_ok_exmple))]),i("v-spacer")],1)],1)],1)],1)],2)},n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grey lighten-5",staticStyle:{width:"1600px",margin:"auto"}},[i("v-card",{attrs:{justify:"center",align:"start"}},[i("v-card-title",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[i("v-row",[i("v-col",[i("v-alert",{attrs:{dense:"",type:"info"}},[t._v("哪一个选择比较好，生命A、生命B，还是它们大致相同？")])],1)],1)],1),i("v-card-text",[i("v-row",{attrs:{justify:"center",align:"center"}},[i("div",{staticStyle:{position:"relative",width:"100%",height:"40px",background:"#ffffff"}},[i("div",{staticStyle:{background:"#92d050",padding:"10px 10px",width:"200px","border-radius":"15px",position:"absolute",right:"150px"}},[t._v("\n            完全健康\n            "),i("v-icon",{staticStyle:{color:"#92d050","font-size":"5rem",position:"absolute",right:"120px","z-index":"98",top:"5px"}},[t._v("mdi-menu-down")])],1),i("v-expand-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isAppend,expression:"isAppend"}],staticStyle:{position:"absolute",width:"300px",height:"240px",top:"160px",right:"180px","z-index":"99"},attrs:{id:"alertbox"}},[i("div",{staticClass:"dynamic-icon",staticStyle:{width:"100px",height:"52px",background:"#2E7D32",position:"absolute",top:"-66px",right:"1px",border:"3px solid red",opacity:"0.7"}}),i("div",{staticStyle:{position:"relative",width:"300px",height:"240px",background:"grey",padding:"10px","border-radius":"15px",border:"3px solid red",opacity:"0.7"}},[i("v-icon",{staticStyle:{color:"red","font-size":"5rem",position:"absolute",right:"20px",top:"-50px"}},[t._v("mdi-menu-up")])],1),i("div",{staticStyle:{"text-align":"center",width:"280px",position:"absolute",top:"10px",right:"10px",background:"#ffffff"}},[i("table",{staticStyle:{width:"100%"},attrs:{border:"1",cellspacing:"0",cellpadding:"0"}},[i("tr",{staticStyle:{height:"50px"}},[i("td",{class:t.indexList[t.itemIndex.length]>=906||15==t.itemIndex.length?"green darken-1":"",staticStyle:{"text-align":"center",width:"25%"}},[t.indexList[t.itemIndex.length]>=906||15==t.itemIndex.length?i("span",[t._v("9年6个月")]):t._e()]),i("td",{class:t.indexList[t.itemIndex.length]>=909||15==t.itemIndex.length?"green darken-1":"",staticStyle:{"text-align":"center",width:"25%"}},[t.indexList[t.itemIndex.length]>=909||15==t.itemIndex.length?i("span",[t._v("9年9个月")]):t._e()]),i("td",{class:t.indexList[t.itemIndex.length]>=910||15==t.itemIndex.length?"green darken-1":"",staticStyle:{"text-align":"center",width:"25%"}},[t.indexList[t.itemIndex.length]>=910||15==t.itemIndex.length?i("span",[t._v("9年10个月")]):t._e()]),i("td",{class:t.indexList[t.itemIndex.length]>=911||911==t.indexList[t.itemIndex.length-1]?"green darken-1":"",staticStyle:{"text-align":"center",width:"25%"}},[t.indexList[t.itemIndex.length]>=911||911==t.indexList[t.itemIndex.length-1]?i("span",[t._v("9年11个月")]):t._e()])])]),i("table",{staticStyle:{width:"100%"},attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("tr",{staticStyle:{height:"100px"}},[i("td",{class:-1==t.isSelected(906,"A")?"dynamic-icon":"",staticStyle:{"text-align":"center",width:"25%"}},[i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(906,"A")?(t.indexList[t.itemIndex.length]>=906||t.itemIndex.length,""):1==t.isSelected(906,"A")?"mdi-arrow-up-bold grey--text":"t",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(906,"A")}}}),i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(906,"AB")?(t.indexList[t.itemIndex.length]>=906||t.itemIndex.length,""):1==t.isSelected(906,"AB")?"mdi-view-stream grey--text":"t",staticStyle:{"font-size":"36px",width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(906,"AB")}}}),i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(906,"B")?(t.indexList[t.itemIndex.length]>=906||t.itemIndex.length,""):1==t.isSelected(906,"B")?"mdi-arrow-down-bold grey--text":"t",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(906,"B")}}})]),i("td",{class:-1==t.isSelected(909,"A")?"dynamic-icon":"",staticStyle:{"text-align":"center",width:"25%"}},[i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(909,"A")?(t.indexList[t.itemIndex.length]>=909||t.itemIndex.length,""):1==t.isSelected(909,"A")?"mdi-arrow-up-bold grey--text":"t",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(909,"A")}}}),i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(909,"AB")?(t.indexList[t.itemIndex.length]>=909||t.itemIndex.length,""):1==t.isSelected(909,"AB")?"mdi-view-stream grey--text":"t",staticStyle:{"font-size":"36px",width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(909,"AB")}}}),i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(909,"B")?(t.indexList[t.itemIndex.length]>=909||t.itemIndex.length,""):1==t.isSelected(909,"B")?"mdi-arrow-down-bold grey--text":"t",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(909,"B")}}})]),i("td",{class:-1==t.isSelected(910,"A")?"dynamic-icon":"",staticStyle:{"text-align":"center",width:"25%"}},[i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(910,"A")?(t.indexList[t.itemIndex.length]>=910||t.itemIndex.length,""):1==t.isSelected(910,"A")?"mdi-arrow-up-bold grey--text":"t",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(910,"A")}}}),i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(910,"AB")?(t.indexList[t.itemIndex.length]>=910||t.itemIndex.length,""):1==t.isSelected(910,"AB")?"mdi-view-stream grey--text":"t",staticStyle:{"font-size":"36px",width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(910,"AB")}}}),i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(910,"B")?(t.indexList[t.itemIndex.length]>=910||t.itemIndex.length,""):1==t.isSelected(910,"B")?"mdi-arrow-down-bold grey--text":"t",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(910,"B")}}})]),i("td",{class:-1==t.isSelected(911,"A")?"dynamic-icon":"",staticStyle:{"text-align":"center",width:"25%"}},[i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light blue--text",class:-1==t.isSelected(911,"A")?(t.indexList[t.itemIndex.length]>=911||t.indexList[t.itemIndex.length-1],""):1==t.isSelected(911,"A")?"mdi-arrow-up-bold grey--text":"t",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(911,"A")}}}),i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light blue--text",class:-1==t.isSelected(911,"AB")?(t.indexList[t.itemIndex.length]>=911||t.indexList[t.itemIndex.length-1],""):1==t.isSelected(911,"AB")?"mdi-view-stream grey--text":"t",staticStyle:{"font-size":"36px",width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(911,"AB")}}}),i("button",{staticClass:"v-icon notranslate py-1 v-icon--link mdi theme--light",class:-1==t.isSelected(911,"B")?(t.indexList[t.itemIndex.length]>=911||t.indexList[t.itemIndex.length-1],""):1==t.isSelected(911,"B")?"mdi-arrow-down-bold grey--text":"t",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.selectItem(911,"B")}}})])])]),i("table",{staticStyle:{width:"100%"},attrs:{border:"1",cellspacing:"0",cellpadding:"0"}},[i("tr",{staticStyle:{height:"50px"}},[i("td",{staticClass:"blue lighten-3",staticStyle:{"text-align":"center",width:"24px"}},[t._v("10年")])])])])])])],1),i("v-col",{attrs:{cols:"2"}},[i("v-row",{staticClass:"font-weight-bold",class:t.uLarge?"headline grey--text text--darken-4":"title",attrs:{justify:"center",align:"center"}},[i("v-btn",{attrs:{text:""},on:{click:function(e){return t.selectItem(t.indexList[t.itemList.length],"A")}}},[i("span",{staticClass:"font-weight-bold",class:t.uLarge?"headline grey--text text--darken-4":"title"},[t._v("偏好A")])])],1)],1),i("v-col",{attrs:{cols:"10"}},[i("v-row"),i("v-row",{attrs:{justify:"center",align:"center"}},[i("div",{ref:"div1",staticStyle:{width:"1002.22px","text-align":"right"},style:t.style1},[t._v(t._s(t.currentYear)+"年")]),i("canvas",{ref:"canvas1",attrs:{id:"canvas1"}})]),i("v-row",{attrs:{justify:"center",align:"center"}},[i("table",{ref:"table1",attrs:{border:"1",cellspacing:"0",cellpadding:"0"}},[i("tr",{staticStyle:{height:"50px"}},t._l(4*t.topYear,(function(e){return i("td",{key:e,class:t.isAppend||e<=t.itemIndex[t.itemIndex.length-1]-5||0==t.itemIndex.length?parseInt((e-1)/4)%2==1?"green lighten-3":"green darken-1":"",staticStyle:{"text-align":"center",width:"24px"}})})),0)])])],1)],1),i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-col",{attrs:{cols:"2"}},[i("v-row",{staticClass:"font-weight-bold",class:t.eLarge?"headline grey--text text--darken-4":"title",attrs:{justify:"center",align:"center"}},[i("v-btn",{attrs:{text:""},on:{click:function(e){return t.selectItem(t.indexList[t.itemList.length],"AB")}}},[i("span",{staticClass:"font-weight-bold",class:t.eLarge?"headline grey--text text--darken-4":"title"},[t._v("A和B大致相同")])])],1)],1),i("v-col",{attrs:{cols:"10"}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("table",{ref:"table2",staticStyle:{"table-layout":"fixed"},attrs:{border:"0",cellspacing:"0",cellpadding:"0",height:"210"}},[i("tr",{staticStyle:{height:"50px"}},t._l(4*t.topYear+1,(function(e){return i("td",{key:e,ref:"iconList",refInFor:!0,class:-1==t.isSelected(e,"A")?"dynamic-icon":"",staticStyle:{"text-align":"center",width:"24px"},on:{mouseover:function(i){return t.mouseOver(e)},mouseleave:function(i){return t.mouseLeave(e)}}},[e%4==1?i("v-icon",{ref:"upIcon",refInFor:!0,staticClass:"py-5",attrs:{color:t.uLarge&&e==t.isMouseOverItem?"blue darken-4":1==t.isSelected(e,"A")?"grey":e==t.isMouseOverItem?"blue":"grey lighten-1",large:!(e!=t.isMouseOverItem||!t.uLarge),disabled:!(0!=t.isSelected(e,"A"))},on:{click:function(i){return t.selectItem(e,"A")},mouseover:function(e){t.uLarge=!0},mouseleave:function(e){t.uLarge=!1}}},[t._v("\n                    "+t._s(0!=t.isSelected(e,"A")&&(-1!=t.isSelected(e,"A")||e==4*t.topYear-1&&t.isAppend)?"mdi-arrow-up-bold":"t")+"\n                  ")]):t._e(),e%4==1?i("v-icon",{ref:"eqIcon",refInFor:!0,staticClass:"py-5",attrs:{color:t.eLarge&&e==t.isMouseOverItem?"blue darken-4":1==t.isSelected(e,"AB")?"grey":e==t.isMouseOverItem?"blue":"grey lighten-1",disabled:!(0!=t.isSelected(e,"AB")),large:!(e!=t.isMouseOverItem||!t.eLarge)},on:{click:function(i){return t.selectItem(e,"AB")},mouseover:function(e){t.eLarge=!0},mouseleave:function(e){t.eLarge=!1}}},[t._v("\n                    "+t._s(0!=t.isSelected(e,"AB")&&(-1!=t.isSelected(e,"AB")||e==4*t.topYear-1&&t.isAppend)?"mdi-view-stream":"t")+"\n                  ")]):t._e(),e%4==1?i("v-icon",{ref:"dwIcon",refInFor:!0,staticClass:"py-5",attrs:{color:t.dLarge&&e==t.isMouseOverItem?"blue darken-4":1==t.isSelected(e,"B")?"grey":e==t.isMouseOverItem?"blue":"grey lighten-1",disabled:!(0!=t.isSelected(e,"B")),large:!(e!=t.isMouseOverItem||!t.dLarge)},on:{click:function(i){return t.selectItem(e,"B")},mouseover:function(e){t.dLarge=!0},mouseleave:function(e){t.dLarge=!1}}},[t._v("\n                    "+t._s(0!=t.isSelected(e,"B")&&(-1!=t.isSelected(e,"B")||e==4*t.topYear-1&&t.isAppend)?"mdi-arrow-down-bold":"t")+"\n                  ")]):t._e()],1)})),0)])])],1)],1),i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-col",{attrs:{cols:"2"}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-btn",{attrs:{text:""},on:{click:function(e){return t.selectItem(t.indexList[t.itemList.length],"B")}}},[i("span",{staticClass:"font-weight-bold",class:t.dLarge?"headline grey--text text--darken-4":"title"},[t._v("偏好B")])])],1)],1),i("v-col",{attrs:{cols:"10"}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("table",{ref:"table3",attrs:{border:"1",cellspacing:"0",cellpadding:"0"}},[i("tr",{staticStyle:{height:"50px"}},t._l(4*t.topYear,(function(t){return i("td",{key:t,class:parseInt((t-1)/4)%2==1?"blue lighten-3":"blue darken-1",staticStyle:{"text-align":"center",width:"24px"}})})),0)])]),i("v-row",{attrs:{justify:"center",align:"center"}},[i("canvas",{ref:"canvas2",attrs:{id:"canvas2"}}),i("div",{ref:"div2",staticStyle:{width:"1002.22px","text-align":"center"}},[t._v(t._s(t.topYear)+"年")])])],1),i("div",{staticStyle:{position:"relative",width:"100%",height:"140px",background:"#ffffff"}},[t.block.source_text?i("div",{staticStyle:{background:"#5b9bd5",padding:"10px 10px",width:"300px","border-radius":"25px",position:"absolute",left:"450px"}},[i("v-icon",{staticStyle:{color:"#5b9bd5","font-size":"5rem",position:"absolute",left:"150px","z-index":"98",top:"-45px"}},[t._v("mdi-menu-up")]),t._l(t.block.source_text.split("*"),(function(e){return i("div",{key:e.key},[""!=e?i("li",[i("span",[t._v(t._s(e))])]):t._e()])}))],2):t._e()])],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:t.reSelect}},[i("v-icon",{attrs:{large:""}},[t._v("refresh")])],1),i("v-btn",{attrs:{color:"primary"},on:{click:t.nextQuestion}},[i("v-icon",{attrs:{large:""}},[t._v("mdi-arrow-right-circle-outline")])],1),i("v-spacer")],1)],1)],1)},a=[],o=i("9f3a");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={data:function(){return{topYear:10,isMouseOverItem:-1,isAppend:!1,uLarge:!1,eLarge:!1,dLarge:!1,itemList:[],itemIndex:[],style1:"",currentYear:10,nstpttoAnswer:"",indexList:[41,37,33,29,25,21,17,13,9,5,1,906,909,910,911],reset:0}},props:["block"],methods:{selectItem:function(t,e){if(0==this.itemIndex.length&&t==4*this.topYear+1||this.itemIndex.length>0&&t==this.itemIndex[this.itemIndex.length-1]-4||(906==t||909==t||910==t||911==t)&&this.isAppend){-1==this.isSelected(t,e)&&(this.itemList.push({index:t,answer:e,page:this.nstpPage}),this.itemIndex.push(t),this.currentYear>0&&(this.currentYear=this.currentYear-1)),this.style1=this.getStyle(24.44*(this.topYear-this.currentYear/2)*4),this.drawLine("canvas1",this.$refs.table1.offsetWidth,20,this.$refs.table1.offsetWidth/this.topYear*this.currentYear,10,0);for(var i=0,s=0,n=0;n<this.itemList.length;n++)"A"==this.itemList[n].answer&&i++,"B"==this.itemList[n].answer&&s++;if(1==i&&10==s&&"A"==this.itemList[0].answer&&11==this.itemList.length&&(this.isAppend=!0,console.log(this.itemList)),11==i&&11==this.itemList.length){var r=[];for(n=0;n<this.itemList.length;n++){var a={questionid:this.examType.id,participant:this.userInfo.participant,interviewer:this.userInfo.interviewer,item:this.block.name,position_of_item:this.block.id,select_order:n,select_value:this.itemList[n].answer,page:1,block:this.block.block,version:this.qVersion};r.push(a)}this.nstpttoAnswer=r,this.updateItem(this.nstpttoAnswer,!1),this.$store.dispatch("setNstpPage",2)}}else alert("请从右至左依次按顺序回答！")},mouseOver:function(t){this.isMouseOverItem=t},mouseLeave:function(){this.isMouseOverItem=-1},reSelect:function(){this.topYear=10,this.currentYear=10,this.style1="",this.isMouseOverItem=-1,this.isAppend=!1,this.uLarge=!1,this.eLarge=!1,this.dLarge=!1,this.itemList=[],this.itemIndex=[],this.$store.dispatch("setNstpPage",1),this.drawLine("canvas1",this.$refs.table1.offsetWidth,20,this.$refs.table1.offsetWidth,10,0),this.$store.dispatch("setNstpReset",{reset:0,value:1})},getStyle:function(t){return"padding-right: "+t+"px;"},updateReset:function(){this.$emit("cUpdateReset")},updateItem:function(t,e){this.$emit("cUpdateItem",{arr:t,next:e})},nextQuestion:function(){if(this.isAppend&&15==this.itemList.length||!this.isAppend&&11==this.itemList.length){for(var t=[],e=0;e<this.itemList.length;e++){var i={questionid:this.examType.id,participant:this.userInfo.participant,interviewer:this.userInfo.interviewer,item:this.block.name,position_of_item:this.block.id,select_order:e,select_value:this.itemList[e].answer,page:1,block:this.block.block,reset:this.reset,version:this.qVersion};t.push(i)}this.nstpttoAnswer=t,this.updateItem(this.nstpttoAnswer,!0),this.$store.dispatch("setNstpPage",1)}else alert("请完成答题步骤才能进行下一步！")},drawLine:function(t,e,i,s,n,r){var a=document.getElementById(t);if(null==a)return!1;if(a.height=i,a.width=e,0===s)return!1;var o=a.getContext("2d");function l(t,e,i,s,n,r,a){var o=new Array(s,n),l=new Array(r,a);t.beginPath(),t.translate(e,i,0),t.moveTo(o[0],o[1]),t.lineTo(l[0],l[1]),t.fill(),t.stroke(),t.save(),t.translate(l[0],l[1]);var c=(l[0]-o[0])/(l[1]-o[1]);c=Math.atan(c),l[1]-o[1]>=0?t.rotate(-c):t.rotate(Math.PI-c),t.lineTo(-5,-10),t.lineTo(0,-5),t.lineTo(5,-10),t.lineTo(0,0),t.fill(),t.restore(),t.closePath()}l(o,0,n,0+r+5,0,s+r-5,0),l(o,0+r+5,0,5,0,0,0)}},computed:c({isSelected:function(){return function(t,e){for(var i=0;i<this.itemList.length;i++){if(this.itemList[i].index==t&&this.itemList[i].answer!=e)return 0;if(this.itemList[i].index==t&&this.itemList[i].answer==e)return 1}return-1}}},Object(o["b"])(["userInfo","examType","qVersion","eqLangLabels","nstpPage","nstpReset"])),mounted:function(){this.drawLine("canvas1",this.$refs.table1.offsetWidth,20,this.$refs.table1.offsetWidth,10,0),this.drawLine("canvas2",this.$refs.table2.offsetWidth,20,this.$refs.table2.offsetWidth,10,0),this.style1=this.getStyle(24.44*(this.topYear-this.currentYear/2)*4)}},h=u,p=(i("442c"),i("9ca4")),g=Object(p["a"])(h,r,a,!1,null,"32dd4212",null),m=g.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grey lighten-5",staticStyle:{width:"1600px",margin:"auto"}},[i("v-card",{attrs:{justify:"center",align:"start"}},[i("v-card-title",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[i("v-row",[i("v-col",[i("v-alert",{attrs:{dense:"",type:"info"}},[t._v("哪一个选择比较好，生命A、生命B，还是它们大致相同？")])],1)],1)],1),i("v-card-text",[i("v-row",{attrs:{justify:"center",align:"center"}},[i("div",{staticStyle:{position:"relative",width:"100%",height:"40px",background:"#ffffff"}},[i("div",{staticStyle:{background:"#92d050",padding:"10px 10px",width:"200px","border-radius":"15px",position:"absolute",right:"150px"}},[t._v("\n            完全健康\n            "),i("v-icon",{staticStyle:{color:"#92d050","font-size":"5rem",position:"absolute",right:"120px","z-index":"98",top:"5px"}},[t._v("mdi-menu-down")])],1)]),i("v-col",{attrs:{cols:"2"}},[i("v-row",{staticClass:"font-weight-bold",class:t.uLarge?"headline blue--text text--darken-4":"title",attrs:{justify:"center",align:"center"}},[i("v-btn",{attrs:{text:""},on:{click:function(e){return t.selectItem(t.indexList[t.itemList.length],"A")}}},[i("span",{staticClass:"font-weight-bold",class:t.uLarge?"headline blue--text text--darken-4":"title"},[t._v("偏好A")])])],1)],1),i("v-col",{attrs:{cols:"10"}},[i("v-row"),i("v-row",{attrs:{justify:"center",align:"center"}},[i("div",{ref:"div2",staticStyle:{width:"1326.67px","text-align":"right"},style:t.style3},[t._v("\n              "+t._s(t.currentYear)+"年\n            ")]),i("canvas",{ref:"canvas1",attrs:{id:"canvas1"}})]),i("v-row",{attrs:{justify:"center",align:"center"}},[i("table",{ref:"table1",attrs:{border:"1",cellspacing:"0",cellpadding:"0"}},[i("tr",{staticStyle:{height:"50px"}},t._l(8*t.topYear,(function(e){return i("td",{key:e,class:(e<=t.itemIndex[t.itemIndex.length-1]-5||0==t.itemIndex.length)&&e<8*t.topYear/2+1?parseInt((e-1)/4)%2==1?"green lighten-3":"green darken-1":"",staticStyle:{"text-align":"center",width:"16px"}})})),0)])])],1)],1),i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-col",{attrs:{cols:"2"}},[i("v-row",{staticClass:"font-weight-bold",class:t.eLarge?"headline blue--text text--darken-4":"title",attrs:{justify:"center",align:"center"}},[i("v-btn",{attrs:{text:""},on:{click:function(e){return t.selectItem(t.indexList[t.itemList.length],"AB")}}},[i("span",{staticClass:"font-weight-bold",class:t.eLarge?"headline blue--text text--darken-4":"title"},[t._v("A和B大致相同")])])],1)],1),i("v-col",{attrs:{cols:"10"}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("table",{ref:"table2",staticStyle:{"table-layout":"fixed"},attrs:{border:"0",cellspacing:"0",cellpadding:"0",height:"210"}},[i("tr",{staticStyle:{height:"50px"}},t._l(8*t.topYear+1,(function(e){return i("td",{key:e,ref:"iconList",refInFor:!0,class:-1==t.isSelected(e,"A")?"dynamic-icon":"",staticStyle:{"text-align":"center",width:"16px"},on:{mouseover:function(i){return t.mouseOver(e)},mouseleave:function(i){return t.mouseLeave(e)}}},[e%4==1&&e<=4*t.topYear+1?i("v-icon",{ref:"upIcon",refInFor:!0,staticClass:"py-5",attrs:{color:t.uLarge&&e==t.isMouseOverItem?"blue darken-4":1==t.isSelected(e,"A")?"grey":e==t.isMouseOverItem?"blue":"grey lighten-1",disabled:!(0!=t.isSelected(e,"A")),small:e!=t.isMouseOverItem||!t.uLarge},on:{click:function(i){return t.selectItem(e,"A")},mouseover:function(e){t.uLarge=!0},mouseleave:function(e){t.uLarge=!1}}},[t._v("\n                    "+t._s(0!=t.isSelected(e,"A")?-1==t.isSelected(e,"A")?"t":"mdi-arrow-up-bold":"t")+"\n                  ")]):t._e(),e%4==1&&e<=4*t.topYear+1?i("v-icon",{ref:"eqIcon",refInFor:!0,staticClass:"py-5",attrs:{color:t.eLarge&&e==t.isMouseOverItem?"blue darken-4":1==t.isSelected(e,"AB")?"grey":e==t.isMouseOverItem?"blue":"grey lighten-1",disabled:!(0!=t.isSelected(e,"AB")),small:e!=t.isMouseOverItem||!t.eLarge},on:{click:function(i){return t.selectItem(e,"AB")},mouseover:function(e){t.eLarge=!0},mouseleave:function(e){t.eLarge=!1}}},[t._v("\n                    "+t._s(0!=t.isSelected(e,"AB")?-1==t.isSelected(e,"AB")?"t":"mdi-view-stream":"t")+"\n                  ")]):t._e(),e%4==1&&e<=4*t.topYear+1?i("v-icon",{ref:"dwIcon",refInFor:!0,staticClass:"py-5",attrs:{color:t.dLarge&&e==t.isMouseOverItem?"blue darken-4":1==t.isSelected(e,"B")?"grey":e==t.isMouseOverItem?"blue":"grey lighten-1",disabled:!(0!=t.isSelected(e,"B")),small:e!=t.isMouseOverItem||!t.dLarge},on:{click:function(i){return t.selectItem(e,"B")},mouseover:function(e){t.dLarge=!0},mouseleave:function(e){t.dLarge=!1}}},[t._v("\n                    "+t._s(0!=t.isSelected(e,"B")?-1==t.isSelected(e,"B")?"t":"mdi-arrow-down-bold":"t")+"\n                  ")]):t._e()],1)})),0)])])],1)],1),i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-col",{attrs:{cols:"2"}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-btn",{attrs:{text:""},on:{click:function(e){return t.selectItem(t.indexList[t.itemList.length],"B")}}},[i("span",{staticClass:"font-weight-bold",class:t.dLarge?"headline blue--text text--darken-4":"title"},[t._v("偏好B")])])],1)],1),i("v-col",{attrs:{cols:"10"}},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("table",{ref:"table3",attrs:{border:"1",cellspacing:"0",cellpadding:"0"}},[i("tr",{staticStyle:{height:"50px"}},t._l(8*t.topYear,(function(e){return i("td",{key:e,class:e<4*t.topYear+1?parseInt((e-1)/4)%2==1?"green lighten-3":"green darken-1":parseInt((e-1)/4)%2==1?"blue lighten-3":"blue darken-1",staticStyle:{"text-align":"center",width:"16px"}})})),0)])]),i("v-row",{attrs:{justify:"center",align:"center"}},[i("div",[i("canvas",{ref:"canvas4",attrs:{id:"canvas4"}}),i("canvas",{ref:"canvas5",attrs:{id:"canvas5"}})]),i("div",{ref:"div2",staticStyle:{width:"1326.67px","text-align":"center"}},[t._v("\n              "+t._s(2*t.topYear)+"年\n            ")])]),i("div",{staticStyle:{position:"relative",width:"100%",height:"140px",background:"#ffffff"}},[i("div",{staticStyle:{background:"#92d050",padding:"10px 10px",width:"300px","border-radius":"25px",position:"absolute",left:"80px"}},[t._v("\n              完全健康\n              "),i("v-icon",{staticStyle:{color:"#92d050","font-size":"5rem",position:"absolute",left:"150px","z-index":"98",top:"-45px"}},[t._v("mdi-menu-up")])],1),t.block.source_text?i("div",{staticStyle:{background:"#5b9bd5",padding:"10px 10px",width:"200px","border-radius":"15px",position:"absolute",right:"150px"}},[i("v-icon",{staticStyle:{color:"#5b9bd5","font-size":"5rem",position:"absolute",right:"120px","z-index":"98",top:"-45px"}},[t._v("mdi-menu-up")]),t._l(t.block.source_text.split("*"),(function(e){return i("div",{key:e.key},[""!=e?i("li",[i("span",[t._v(t._s(e))])]):t._e()])}))],2):t._e()])],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:t.reSelect}},[i("v-icon",{attrs:{large:""}},[t._v("refresh")])],1),i("v-btn",{attrs:{color:"primary"},on:{click:t.nextQuestion}},[i("v-icon",{attrs:{large:""}},[t._v("mdi-arrow-right-circle-outline")])],1),i("v-spacer")],1)],1)],1)},v=[];function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){y(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var w={data:function(){return{topYear:10,currentYear:10,isMouseOverItem:-1,uLarge:!1,eLarge:!1,dLarge:!1,itemList:[],itemIndex:[],style3:"padding-right: 650px",nstpttoAnswer:"",indexList:[41,37,33,29,25,21,17,13,9,5,1],reset:0}},props:["block"],methods:{selectItem:function(t,e){0==this.itemIndex.length&&t==4*this.topYear+1||this.itemIndex.length>0&&t==this.itemIndex[this.itemIndex.length-1]-4?(-1==this.isSelected(t,e)&&(this.itemList.push({index:t,answer:e,page:this.nstpPage}),this.itemIndex.push(t),this.currentYear>0&&(this.currentYear=this.currentYear-1)),this.style3=this.getStyle(0==this.currentYear?16.67*(this.topYear-.5)*4+650:16.67*(this.topYear-this.currentYear/2)*4+650),this.drawLine("canvas1",this.$refs.table1.offsetWidth,20,this.$refs.table1.offsetWidth/2/this.topYear*this.currentYear,10,0)):alert("请从右至左依次按顺序回答！")},mouseOver:function(t){this.isMouseOverItem=t},mouseLeave:function(){this.isMouseOverItem=-1},reSelect:function(){console.log(this.block.name),console.log("reselect from b...."),this.topYear=10,this.currentYear=10,this.isMouseOverItem=-1,this.uLarge=!1,this.eLarge=!1,this.dLarge=!1,this.itemList=[],this.itemIndex=[],this.style3="padding-right: 650px",this.$store.dispatch("setNstpPage",1),this.deleteItem(this.block.name),this.$store.dispatch("setNstpReset",{reset:0,value:1})},getStyle:function(t){return"padding-right: "+t+"px;"},deleteItem:function(t){this.$emit("cDeleteItem",{item:t})},updateItem:function(t,e){this.$emit("cUpdateItem",{arr:t,next:e})},nextQuestion:function(){if(11==this.itemList.length){var t=[];console.log(this.block.id);for(var e=0;e<this.itemList.length;e++){var i={questionid:this.examType.id,participant:this.userInfo.participant,interviewer:this.userInfo.interviewer,item:this.block.name,position_of_item:this.block.id,select_order:e,select_value:this.itemList[e].answer,page:2,block:this.block.block,reset:this.reset,version:this.qVersion};t.push(i)}this.nstpttoAnswer=t,console.log(this.nstpttoAnswer),this.updateItem(this.nstpttoAnswer,!0),this.$store.dispatch("setNstpPage",1)}else alert("请完成答题步骤才能进行下一步！")},drawLine:function(t,e,i,s,n,r){var a=document.getElementById(t);if(null==a)return!1;if(a.height=i,a.width=e,0===s)return!1;var o=a.getContext("2d");function l(t,e,i,s,n,r,a){var o=new Array(s,n),l=new Array(r,a);t.beginPath(),t.translate(e,i,0),t.moveTo(o[0],o[1]),t.lineTo(l[0],l[1]),t.fill(),t.stroke(),t.save(),t.translate(l[0],l[1]);var c=(l[0]-o[0])/(l[1]-o[1]);c=Math.atan(c),l[1]-o[1]>=0?t.rotate(-c):t.rotate(Math.PI-c),t.lineTo(-5,-10),t.lineTo(0,-5),t.lineTo(5,-10),t.lineTo(0,0),t.fill(),t.restore(),t.closePath()}l(o,0,n,0+r+5,0,s+r-5,0),l(o,0+r+5,0,5,0,0,0)}},computed:b({isSelected:function(){return function(t,e){for(var i=0;i<this.itemList.length;i++){if(this.itemList[i].index==t&&this.itemList[i].answer!=e)return 0;if(this.itemList[i].index==t&&this.itemList[i].answer==e)return 1}return-1}}},Object(o["b"])(["userInfo","examType","qVersion","eqLangLabels","nstpPage","allAnswer"])),mounted:function(){this.drawLine("canvas1",this.$refs.table1.offsetWidth,20,this.$refs.table1.offsetWidth/2,10,0),this.drawLine("canvas4",this.$refs.table1.offsetWidth/2,20,this.$refs.table1.offsetWidth/2,10,0),this.drawLine("canvas5",this.$refs.table1.offsetWidth/2,20,this.$refs.table1.offsetWidth/2,10,0),this.style3=this.getStyle(0==this.currentYear?16.67*(this.topYear-.5)*4+650:16.67*(this.topYear-this.currentYear/2)*4+650)}},I=w,L=(i("84d4"),Object(p["a"])(I,f,v,!1,null,"02c22385",null)),S=L.exports;function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function k(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){A(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function A(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var O={data:function(){return{eqTtoQuestions:[{}],popupDialog:!0,currentItem:0,nstpttoAnswers:[],disTime:0,disFormatTime:"00:00:00",reset:0}},components:{NstpTtoA:m,NstpTtoB:S},computed:k({},Object(o["b"])(["nstpPage","userInfo","qVersion","eqLangLabels","nstpReset"])),methods:{countTime:function(){var t=this;setInterval((function(){t.disTime=t.disTime+1,t.disFormatTime=t.displayTime(t.disTime)}),1e3)},displayTime:function(t){var e=Math.floor(t/3600),i=Math.floor(t/60),s=t%60;return"".concat(this.zeroPadded(e),":").concat(this.zeroPadded(i),":").concat(this.zeroPadded(s))},zeroPadded:function(t){return t<10?"0".concat(t):t},pDeleteItem:function(t){this.nstpttoAnswers=this.nstpttoAnswers.filter((function(e){return e.item!=t.item})),console.log(this.reset),this.reset++,console.log(this.reset)},pUpdateReset:function(){console.log(this.reset),this.reset++,console.log(this.reset)},pUpdateItem:function(t){var e=this;if(t.arr.map((function(t){return t.used_time=e.disTime})),t.arr.map((function(t){return t.position_of_item=e.currentItem+1})),this.nstpttoAnswers=this.nstpttoAnswers.concat(t.arr),console.log(this.nstpttoAnswers),t.next){if(this.currentItem++,this.$store.dispatch("setNstpPage",1),this.currentItem>this.eqTtoQuestions.length-1){var i=[];this.nstpttoAnswers.forEach(function(t){return function(e){t[e.position_of_item]||(t[e.position_of_item]={position_of_item:e.position_of_item,used_time:0},i.push(t[e.position_of_item])),t[e.position_of_item].used_time=Math.max(t[e.position_of_item].used_time,e.used_time)}}(Object.create(null))),this.nstpttoAnswers.map((function(t){i.map((function(e){t.position_of_item==e.position_of_item&&(t.used_time=e.used_time)}))})),console.log(this.nstpttoAnswers),this.$store.dispatch("setAllAnswer",this.nstpttoAnswers),this.$router.push({path:"/eq/end"})}this.disTime=0,console.log(this.nstpReset)}this.nstpttoAnswers.map((function(i){return t.arr[t.arr.length-1].item==i.item?i.reset=e.nstpReset:""})),console.log(this.nstpttoAnswers),console.log(t.arr[t.arr.length-1].item),t.next&&this.$store.dispatch("setNstpReset",{reset:1,value:0})},getQuestion:function(){var t=this;this.$axios.get("/api/question/nstptto",{params:{block:this.userInfo.blockQuestion,version:this.qVersion}}).then((function(e){var i=e.data.filter((function(t){return isNaN(t.block)})),s=e.data.filter((function(t){return!isNaN(t.block)})).sort((function(){return Math.random()-.5}));t.eqTtoQuestions=i.concat(s),console.log(t.eqTtoQuestions)})).catch((function(t){console.log(t)}))}},created:function(){this.getQuestion()},mounted:function(){this.countTime(),console.log("ff mounted....")}},j=O,B=Object(p["a"])(j,s,n,!1,null,null,null);e["default"]=B.exports}}]);
//# sourceMappingURL=chunk-3625e221.8438d540.js.map